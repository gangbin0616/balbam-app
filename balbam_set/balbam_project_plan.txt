# 발밤 (Balbam) - 프로젝트 기획서

## 1. 프로젝트 개요 (Project Overview)

*   **프로젝트명**: 발밤 (Balbam)
    *   **의미**: '발밤발밤(가는 곳을 정하지 아니하고 한 걸음 한 걸음 천천히 걷는 모양)'에서 착안. 급하게 뛰지 않아도, AI가 계산한 내 속도대로 목적지에 여유롭게 도착할 수 있도록 돕겠다는 의지를 담음.
*   **한 줄 요약**: 사용자의 보행 패턴을 학습하고, 제작자의 현장 데이터와 AI 알고리즘을 결합해 '진짜' 도착 시간과 최적 경로를 제안하는 초개인화 대중교통 내비게이션.
*   **기획 배경 및 문제 정의**:
    *   기존 앱의 경직성: 모든 사용자의 보폭이 같다고 가정하는 일률적인 환승 시간 안내.
    *   실시간 대응 부재: 버스 지연, 지하철 연착 등 돌발 상황 발생 시 사용자가 직접 경로를 다시 찾아야 하는 수동적 시스템.
    *   막차 데이터의 불신: (실제 경험 기반) 서울-경기 장거리 통학 시, 지도 앱마다 막차 시간이 다르고 실제 도로 상황(정체 등)이 반영되지 않아 사용자가 이중체크를 해야 하는 번거로움.
    *   기술의 정체: AI 시대임에도 불구하고 10년 전과 크게 다를 바 없는 정형화된 길찾기 알고리즘.
*   **핵심 솔루션**:
    *   개인화 학습 (AI Pacemaker): GPS 기반으로 사용자의 평소 보행 및 환승 속도를 데이터화하여 '나 전용' 이동 시간 계산.
    *   실시간 동적 경로 (Active Rerouting): 경로 이탈이나 지연 발생 시 즉시 따릉이, 킥보드, 택시 등을 포함한 '지각 방지 대안' 제시.
    *   데이터 정합성 (Real-time Accuracy): 공공 API에만 의존하지 않고, 최근 해당 노선의 운행 패턴과 도로 상황을 결합해 막차 탑승 가능 여부를 정밀 예측.
    *   사용자 참여형 가이드: 제작자와 사용자가 직접 수집한 현장 정보(지하철 안내판 실제 문구 등)를 반영해 초행길 가독성 극대화.
*   **타겟 사용자**:
    *   수도권 장거리 출퇴근러/통학러: 1분 차이로 막차를 놓치면 치명적인 사람들.
    *   길치 및 초행길 방문자: 복잡한 환승역 안내판에 혼란을 느끼는 사용자.
    *   완벽주의자 (MBTI 'J'): 변수를 통제하고 정확한 도착 시간을 보장받고 싶은 사용자.
*   **서비스 목표 (비전)**:
    *   시장 혁신: 네이버 지도, 지하철종결자가 장악한 시장에 'AI 기반 초개인화'라는 새로운 패러다임 제시.
    *   심리적 안정감 제공: 환승역에서 앞사람이 뛴다고 덩달아 뛰지 않아도 되는 세상, "이 차 탈 수 있을까?"라는 초조함이 사라지는 이동 경험 제공.
    *   최후의 보루: 어떤 상황에서도 집에는 갈 수 있게 해주는, 대중교통 이용자들의 가장 신뢰받는 '마지막 수단'이 되는 것.

## 2. 핵심 기능 정의 (Key Features Definition)

*   **AI 페이스메이커 (사용자 패턴 학습 엔진)**:
    *   목표: "모든 사람은 같은 속도로 걷지 않는다." 사용자의 신체적 특성과 습관을 반영한 맞춤형 소요 시간 제공.
    *   동작 로직:
        *   학습 단계: 사용자가 앱을 켜고 이동하는 동안 GPS와 가속도 센서를 분석하여 평지, 오르막, 내리막, 계단에서의 평균 속도를 도출합니다.
        *   환승 데이터화: 특정 지하철역 환승 통로에서 이 사용자가 소요하는 시간을 기록하여 '평균 환승 시간' 데이터를 개별화합니다.
        *   예측 반영: 경로 검색 시 공공 데이터의 표준 소요 시간이 아닌, 사용자의 학습된 보정 계수를 곱해 "당신은 7분 걸립니다"라고 정확히 알려줍니다.
    *   핵심 데이터: 사용자별 보행 속도 프로필, 역별/구간별 보행 효율성 지수.
*   **능동형 동적 경로 재탐색 (Active Response)**:
    *   목표: "길을 잃거나 버스가 안 와도 당황하지 마세요." 이동 중 발생하는 변수에 실시간으로 개입.
    *   동작 로직:
        *   실시간 감시: 설정된 경로와 사용자의 현재 위치를 10초 단위로 비교합니다.
        *   오류 감지: 반대 방향 지하철 탑승, 노선 이탈, 탑승 중인 수단의 비정상적 지연(교통사고 등)을 감지합니다.
        *   즉시 처방: "잘못 타셨습니다! 이번 역에서 내려서 4번 출구로 나가 02번 마을버스를 타면 늦지 않습니다"와 같은 즉각적인 대안 경로를 팝업으로 제시합니다.
    *   핵심 기능: 푸시 알림 기반 경로 보정 안내, 돌발 상황 전용 알고리즘.
*   **온타임 가디언 (목적지 원하는 시간 도착 시스템)**:
    *   목표: "수단과 방법을 가리지 않고 약속 시간을 지킨다." 모든 이동 수단을 결합한 타임 어택 솔루션.
    *   동작 로직:
        *   역산 알고리즘: 사용자가 설정한 '도착 희망 시각'으로부터 모든 경로(도보+수단+환승)를 거꾸로 계산해 '데드라인'을 설정합니다.
        *   하이브리드 믹스: 버스/지하철이 늦을 경우, AI가 즉시 **[택시+따릉이+전동킥보드+도보(전력질주)]**를 조합한 초단축 경로를 생성합니다.
        *   모드 전환:
            *   집중 모드: "조금 빠르게 걸으세요."
            *   익스트림(지각) 모드: "지금 바로 뛰어야 합니다!" 화면이 붉게 변하며 택시 호출 및 킥보드 위치를 최우선 노출합니다.
    *   핵심 기능: 도착 확률 예측 시뮬레이션, MaaS(교통 수단 통합) 서비스 연동.
*   **크라우드소싱 현장 가이드 (Field Intelligence)**:
    *   목표: "안내판과 맵이 달라도 헤매지 않게." 실제 사용자가 수집한 생생한 현장 정보 반영.
    *   동작 로직:
        *   현장 매핑: 제작자와 사용자가 직접 뛴 데이터를 바탕으로, 지하철역 내 헷갈리는 표지판 문구(예: 'XX행' 대신 실제 써있는 'OO방면')를 매칭합니다.
        *   시각적 안내: 복잡한 갈림길에서 "지도에는 왼쪽이지만, 실제론 빨간색 바닥 선을 따라가세요" 같은 직관적 가이드를 제공합니다.
        *   제보 시스템: 사진 촬영 시 AI가 텍스트를 인식(OCR)하여 정보를 최신화하고, 제보자에게는 이동 수단 할인 포인트(발밤 포인트)를 지급합니다.
*   **주요 엣지 케이스 및 고려사항**:
    *   배터리 및 발열: 실시간 GPS 추적과 AI 학습을 병행할 때 배터리 소모를 어떻게 최소화할 것인가? (저전력 모드 설계 필요)
    *   지하/고층 건물 GPS 오차: 지하철역 깊은 곳이나 고층 빌딩 숲에서 위치가 튈 때, 가속도 센서와 Beacon/Wi-Fi 신호로 어떻게 보정할 것인가?
    *   수단 가용성 불확실성: '익스트림 모드'에서 킥보드를 추천했는데 실제 현장에 기기가 없거나 방전된 경우, 다음 대안을 얼마나 빨리 제시할 수 있는가?
    *   사용자 신체 상태: "전력질주" 경로를 제안해도 되는 사용자인가? (노약자, 장애인, 짐을 든 사용자 등을 위한 필터링 옵션 필요)
    *   데이터 신뢰성: 사용자의 악의적인 허위 제보(잘못된 안내판 정보 등)를 검증할 수 있는 교차 검증 로직이 있는가?
    *   날씨 변수: 폭우나 폭설 시 이륜차(킥보드, 자전거) 경로를 자동으로 배제하고 도보 속도 가중치를 조절하는가?

## 3. 기술 스택 및 아키텍처 (Tech Stack & Architecture)

*   **제안된 기술 스택**:
    *   **Frontend (Mobile App)**: React Native + Expo + TypeScript + expo-router
        *   React Native: 네이티브 모바일 앱을 자바스크립트/타입스크립트로 개발 가능하게 해주는 프레임워크.
        *   Expo: React Native 개발을 더 쉽게 해주는 툴킷 및 서비스. 개발 초기 설정, 배포, 테스트 등을 간편하게 해줌.
        *   TypeScript: 자바스크립트의 상위 집합. 정적 타이핑을 통해 코드 오류를 줄이고 유지보수성을 높임.
        *   expo-router: Expo 환경에서 앱 내 페이지 간 이동(라우팅)을 관리해주는 라이브러리.
    *   **Backend**: Node.js + Express
        *   Node.js: 자바스크립트 런타임. 서버 사이드에서 자바스크립트를 실행할 수 있게 해줌.
        *   Express: Node.js 기반의 웹 애플리케이션 프레임워크. 서버 개발을 빠르고 쉽게 해줌.
    *   **Database**: PostgreSQL
        *   PostgreSQL: 오픈 소스 객체-관계형 데이터베이스 시스템. 안정성, 확장성, 성능이 우수함.
    *   **AI/ML**: TensorFlow.js (또는 Python 기반 TensorFlow + Flask/FastAPI API 서버)
        *   TensorFlow.js: 자바스크립트용 머신러닝 라이브러리. 클라이언트(모바일 앱) 또는 서버(Node.js)에서 머신러닝 모델을 실행할 수 있음.
        *   *참고*: 보행 속도 예측 모델은 Python 기반으로 학습시키고, 추론은 서버(API)를 통해 수행하거나, TensorFlow.js로 변환하여 클라이언트(앱)에서 수행할 수 있음.
    *   **Map SDK**: Naver Maps SDK for React Native (또는 다른 지도 SDK)
        *   Naver Maps SDK for React Native: 네이버 지도를 React Native 앱에 쉽게 통합할 수 있도록 해주는 SDK.
        *   *참고*: 카카오맵, 구글맵 등도 가능하나, 한국 서비스라면 네이버 지도가 데이터가 더 정확할 수 있음. 선택은 님의 판단에 따라 하세요.
*   **시스템 아키텍처 (추상화된 레벨에서 설명)**:
    *   Client (React Native App) <-> Server (Node.js + Express) <-> Database (PostgreSQL) <-> External APIs (교통, 날씨, 지도, 민간 수단 등)
    *   AI/ML 모델은 서버 또는 클라이언트에서 사용자 데이터를 기반으로 동작합니다.
*   **데이터 흐름**:
    *   앱: GPS/센서 데이터 수집 -> 서버로 전송
    *   서버: 외부 API 호출, DB 조회, AI 모델 예측 -> 경로/시간 계산 -> 앱으로 응답
    *   앱: 서버 응답 기반으로 UI 업데이트, 사용자에게 알림

## 4. API 및 외부 데이터 소스 (APIs & External Data Sources)

*   **대중교통 및 도로 실시간 데이터 (공공 API)**:
    *   국가 대중교통 정보센터 (tago.go.kr):
        *   버스 실시간 위치 및 도착 예정 정보.
        *   지하철 실시간 열차 위치 및 도착 정보.
        *   전국 단위의 노선 정보 및 정류장 위치 데이터.
    *   서울시 열린데이터 광장 (data.seoul.go.kr):
        *   서울 지하철 실시간 도착 정보 (가장 정확도가 높음).
        *   따릉이 실시간 대여소 현황 및 잔여 자전거 대수.
    *   TOPIS (서울시 교통정보 시스템):
        *   도로별 실시간 소통 정보 (정체 구간 파악을 통해 버스 지연 예측 보정).
*   **마이크로 모빌리티 및 이동 수단 연동 (민간 API)**:
    *   공유 킥보드/자전거 API (민간 협력):
        *   씽씽, 빔(Beam), 스윙(Swing) 등 주요 업체와의 제휴 혹은 개별 SDK 연동 필요.
        *   데이터: 기기 위치, 배터리 잔량, 잠금 해제 인터페이스.
    *   택시 호출 연동:
        *   카카오 T SDK 또는 우티(UT) API 연동.
        *   데이터: 주변 택시 예상 도착 시간, 목적지까지의 예상 금액.
    *   날씨 정보 (기상청):
        *   데이터: 현재 강수량, 강설량.
        *   활용: 비/눈 올 때 킥보드 경로 자동 비활성화 및 도보 속도 가중치 조절.
*   **지도 및 경로 탐색 (Map SDK)**:
    *   Naver Maps / Kakao Maps SDK: 국내 지형 및 건물 정보에 최적화.
    *   Google Maps SDK: 글로벌 확장성 및 사용자 이동 경로 학습(GPS)에 용이.
    *   발밤 전용 커스텀 알고리즘 (자체 개발):
        *   기존 지도 SDK가 주는 경로 데이터를 받아서, 발밤의 '개인화 속도'와 '지연 예측'을 덧씌워 재계산하는 핵심 엔진.
*   **사용자 행동 및 기기 센서 데이터 (자체 수집)**:
    *   Location Services (GPS/Network): 10초 단위 위치 변화 및 이동 거리 측정.
    *   Core Motion / Activity Recognition (가속도/자이로 센서):
        *   현재 사용자가 걷는지, 뛰는지, 계단을 오르는지, 차량에 탑승했는지 판별.
    *   OCR (Optical Character Recognition - Google Vision API 등):
        *   사용자가 찍은 안내판 사진에서 텍스트(행선지, 출구 번호) 추출.
*   **데이터 결합 및 캐싱 전략**:
    *   데이터의 결합: 단순히 "버스 API가 5분 뒤 온다"고 하면 네이버 지도와 다를 게 없습니다. **[버스 API 5분] + [해당 구간 정체 데이터 2분] + [사용자 보폭 1.2배 빠름] = "실제로는 6분 뒤 도착하며, 당신은 충분히 탈 수 있습니다"**라는 발밤만의 결과값으로 가공하는 것이 기획의 핵심입니다.
    *   데이터의 캐싱(Caching): 지하철역 깊은 곳은 통신이 불안정할 수 있으므로, 해당 역의 환승 경로 사진이나 안내 정보는 미리 앱에 다운로드(캐싱) 해두어 오프라인에서도 볼 수 있게 설계해야 합니다.
    *   개인정보 보호: 보행 속도 등은 민감한 정보일 수 있으므로 익명화하여 서버에 저장하고, 학습 모델은 기기 로컬 내에서 돌아가도록(Edge AI) 설계하는 것이 보안과 속도 측면에서 유리합니다.

## 5. UI/UX 및 사용자 플로우 (UI/UX & User Flow)

*   **플로우차트 분석 요약 (사용자 입장에서)**:
    *   앱 실행 -> 초기 설정 (네트워크, GPS 확인, 보행 속도 기준 설정) -> 실시간 위치/속도/센서 모니터링 -> 경로/시간 안내 시작 -> 위치 변화 감지 -> 경로 예측 및 이상 탐지 (지연, 이탈, 위험 구역, GPS 소실 등) -> 자동/수동 대응 (리라우팅, 알림, 센서 보조 전환 등) -> 목적지 도착 -> 이동 데이터 분석 및 개인화 데이터 저장 -> 서비스 종료.
*   **주요 화면 구성 (예)**:
    *   시작 화면 (초기 설정, 권한 요청)
    *   경로 안내 지도 화면 (실시간 위치, 경로, 도착 시간, 속도 가이드)
    *   실시간 알림 팝업 (경로 이탈, 지연, 익스트림 모드 활성화 등)
    *   도착 후 요약 보고서 (이동 시간, 거리, 보행 속도 피드백 등)
*   **사용자 경험 (UX) 설계 원칙**:
    *   심리적 안정감 제공: 사용자가 급하게 뛰지 않아도 된다는 느낌을 줌.
    *   직관적인 인터페이스: 복잡한 정보는 간결하게 표현.
    *   상황별 적절한 피드백: 정상, 지연, 익스트림 모드 등에 따라 UI/UX가 달라짐 (예: 익스트림 모드의 강조 색상).

## 6. 개발 계획 및 일정 (Development Plan & Schedule)

*   **MVP (Minimum Viable Product) 정의**:
    *   기본 길찾기 기능 (출발지, 목적지, 대중교통 경로).
    *   간단한 도보 시간 계산 (기본 속도 가정).
    *   지도에 경로 표시.
*   **개발 단계**:
    *   **1단계: MVP + AI 페이스메이커 (기본 학습/적용)**:
        *   기능: MVP 기능 + 사용자 보행 속도 학습 및 적용 (기본적인 계수 조정).
        *   산출물: 기본 길찾기 앱, 보행 속도 프로필 저장.
    *   **2단계: 능동형 동적 경로 재탐색 (기본 감지/리라우팅) + 날씨 연동**:
        *   기능: 경로 이탈 감지, 간단한 리라우팅, 날씨 데이터 기반 경로 필터링.
        *   산출물: 경로 이탈 경고, 날씨에 따른 수단 제외 기능.
    *   **3단계: 크라우드소싱 가이드 (기본 제보 기능) + 익스트림 모드 + 민간 API 연동 (선택적)**:
        *   기능: 사용자 제보 UI, 익스트림 모드 UI/로직, 킥보드/택시 API 연동 (POC 수준).
        *   산출물: 제보 시스템, 익스트림 모드, 선택적 수단 연동.
*   **주요 산출물 및 마일스톤**:
    *   MVP 완료: 1단계 완료 후.
    *   기본 AI 페이스메이커 적용: 1단계 완료 후.
    *   능동형 리라우팅 POC: 2단계 완료 후.
    *   베타 테스트 준비: 3단계 완료 후.
*   **팀 역할 (Vibe Coding)**:
    *   Product Owner: 요구사항 정의, 우선순위 설정.
    *   Developer: 프론트엔드/백엔드/DB 개발.
    *   Tester: 기능 테스트, 버그 리포트, 사용자 테스트.
    *   Designer: UI/UX 디자인, 사용자 피드백 반영.

## 7. 고려사항 및 리스크 (Considerations & Risks)

*   **기술적 리스크**:
    *   GPS 정확도 (지하/고층): 보조 센서(가속도, 자이로, Wi-Fi, Beacon)를 활용한 보정 필요.
    *   배터리 소모 (지속적 모니터링): 저전력 모드, 센서 사용 주기 조정 등.
    *   센서 정확도 (걸음/이동 수단 판단): ML 모델을 통한 정확도 향상 필요.
*   **운영 리스크**:
    *   사용자 허위 제보 (데이터 검증 필요): 교차 검증 로직, 제보자 평가 시스템 필요.
    *   개인정보 보호 (보행 패턴 등 민감 정보 처리): 익명화, 로컬 처리(Edge AI) 등.
*   **법적/윤리적 고려사항**:
    *   위치 정보 수집/이용 동의: 명확한 동의 절차 및 사용 목적 고지.
    *   안전 관련 기능의 책임 범위 명확화: 사용자에게 최선의 경로를 제안하나, 실시간 상황 변화에 대한 책임은 사용자에게 있음을 명시.

## 8. 결론 (Conclusion)

*   **프로젝트의 가치 및 기대 효과**:
    *   기존 내비게이션의 한계를 넘어서는 개인화된 이동 경험 제공.
    *   지각 방지, 효율적인 이동, 길치 사용자 보조 등의 실질적인 이점 제공.
    *   사용자의 심리적 안정감 증대.
*   **향후 계획**:
    *   베타 테스트 (사용자 피드백 수집 및 기능 개선).
    *   시장 진입 전략 수립 (SNS 마케팅, 대학생 커뮤니티 등 타겟 마케팅).
    *   기능 확장 (AI 보조, MaaS(모빌리티 올 인원) 연동 등).